{"version":3,"sources":["parallaxative.js"],"names":["ParallaxativeAnimationValueSet","options","_this","this","_classCallCheck","defaultOptions","valueFormat","substitutionString","scrollPixelsPerParallaxPixel","resetValue","Object","assign","getOwnPropertyNames","forEach","name","ParallaxativeAnimation","animateTargets","scrollDetector","valueSets","arguments","length","undefined","_possibleConstructorReturn","__proto__","getPrototypeOf","call","_get","prototype","animateTarget","classList","add","scrollTarget","_this3","cssValues","scrollPosition","clampedRelativeScrollPosition","scrollTargetRect","getBoundingClientRect","dimension","scrollIsVertical","capitalizedDimension","slice","toUpperCase","beginningOffsetDimension","endingOffsetDimension","scrollDistance","window","valueSet","parallaxDistance","Math","floor","pos","push","replace","toString","targetDimensionSize","ceil","clientHeight","style","ticking","ScrollAnimation"],"mappings":"unCAAMA,+BACL,QAAAA,GAAYC,GAAS,GAAAC,GAAAC,IAAAC,iBAAAD,KAAAH,EACpB,IAAIK,IACHC,YAAa,gBACbC,mBAAoB,IACpBC,6BAA8B,GAC9BC,WAAY,EASb,IANAR,EAAUS,OAAOC,UAAWN,EAAgBJ,GAE5CS,OAAOE,oBAAoBX,GAASY,QAAQ,SAAAC,GAC3CZ,EAAKY,GAAQb,EAAQa,KAGnBX,KAAKK,8BAAgC,EACvC,KAAM,2DAKHO,mCACL,QAAAA,GAAYC,EAAgBC,EAAgBhB,GAA6D,GAApDiB,GAAoDC,UAAAC,OAAA,OAAAC,KAAAF,UAAA,GAAAA,UAAA,IAAtC,GAAInB,gCAAkC,OAAAI,iBAAAD,KAAAY,GAAAO,2BAAAnB,MAAAY,EAAAQ,WAAAb,OAAAc,eAAAT,IAAAU,KAAAtB,KAClGa,EAAgBC,EAAgBhB,EAASiB,yEAM/CQ,KAAAX,EAAAY,UAAAJ,WAAAb,OAAAc,eAAAT,EAAAY,WAAA,OAAAxB,MAAAsB,KAAAtB,MAEAA,KAAKa,eAAeH,QAAQ,SAAAe,GAC3BA,EAAcC,UAAUC,IAAI,4BAG7B3B,KAAKc,eAAec,aAAaF,UAAUC,IAAI,iEAGpC,GAAAE,GAAA7B,KACP8B,KACAC,EAAiB/B,KAAKc,eAAekB,gCAErCC,EAAmBjC,KAAKc,eAAec,aAAaM,wBAEpDC,EAAYnC,KAAKc,eAAesB,iBAAmB,SAAW,QAC9DC,EAAuBF,EAAUG,MAAM,EAAE,GAAGC,cAAgBJ,EAAUG,MAAM,GAC5EE,EAAyC,WAAdL,EAAyB,SAAW,QAC/DM,EAAsC,WAAdN,EAAyB,MAAQ,OAEzDO,EAAiBT,EAAiBE,GAAaQ,OAAO,QAAUN,EAEpErC,MAAKe,UAAUL,QAAQ,SAAAkC,GAEtB,GAAIC,GAAmBC,KAAKC,MAAML,EAAiBE,EAASvC,8BACxD2C,GAAOH,EAAmBd,CAE9BD,GAAUmB,KACTL,EAASzC,YAAY+C,QAAQN,EAASxC,mBAAoB4C,EAAIG,WAAa,OAG5EtB,EAAKhB,eAAeH,QAAQ,SAAAe,GAC3B,GAAI2B,GAAsBN,KAAKO,KAAKxB,EAAKf,eAAec,aAAa0B,aAAeT,GAAkBM,WAAa,IAEnH1B,GAAc8B,MAAMpB,GAAaiB,MAInC7B,KAAAX,EAAAY,UAAAJ,WAAAb,OAAAc,eAAAT,EAAAY,WAAA,SAAAxB,MAAAsB,KAAAtB,KAAa8B,GACb9B,KAAKwD,SAAU,SA/CoBC","file":"parallaxative.min.js","sourcesContent":["class ParallaxativeAnimationValueSet {\n\tconstructor(options) {\n\t\tvar defaultOptions = {\n\t\t\tvalueFormat: 'translateY(_)',\n\t\t\tsubstitutionString: '_',\n\t\t\tscrollPixelsPerParallaxPixel: 10,\n\t\t\tresetValue: 0\n\t\t};\n\n\t\toptions = Object.assign({}, defaultOptions, options);\n\n\t\tObject.getOwnPropertyNames(options).forEach(name => {\n\t\t\tthis[name] = options[name];\n\t\t});\n\n\t\tif(this.scrollPixelsPerParallaxPixel <= 0) {\n\t\t\tthrow 'scrollPixelsPerParallaxPixel must be greater than zero.';\n\t\t}\n\t}\n}\n\nclass ParallaxativeAnimation extends ScrollAnimation {\n\tconstructor(animateTargets, scrollDetector, options, valueSets = [ new ParallaxativeAnimationValueSet ]) {\n\t\tsuper(animateTargets, scrollDetector, options, valueSets);\n\n\t//\tthis.parallaxDistance = (this.scrollDetector.scrollTarget.getBoundingClientRect().)\n\t}\n\n\tinit() {\n\t\tsuper.init();\n\n\t\tthis.animateTargets.forEach(animateTarget => {\n\t\t\tanimateTarget.classList.add('parallaxative-animated');\n\t\t});\n\n\t\tthis.scrollDetector.scrollTarget.classList.add('parallaxative-container')\n\t}\n\n\tupdateCSS() {\n\t\tvar cssValues = [];\n\t\tvar scrollPosition = this.scrollDetector.clampedRelativeScrollPosition();\n\n\t\tvar scrollTargetRect = this.scrollDetector.scrollTarget.getBoundingClientRect();\n\n\t\tvar dimension = this.scrollDetector.scrollIsVertical ? 'height' : 'width';\n\t\tvar capitalizedDimension = dimension.slice(0,1).toUpperCase() + dimension.slice(1);\n\t\tvar beginningOffsetDimension = dimension === 'height' ? 'bottom' : 'right';\n\t\tvar endingOffsetDimension = dimension === 'height' ? 'top' : 'left';\n\n\t\tvar scrollDistance = scrollTargetRect[dimension] + window['inner' + capitalizedDimension];\n\n\t\tthis.valueSets.forEach(valueSet => {\n\n\t\t\tvar parallaxDistance = Math.floor(scrollDistance / valueSet.scrollPixelsPerParallaxPixel);\n\t\t\tvar pos = -parallaxDistance * scrollPosition;\n\n\t\t\tcssValues.push(\n\t\t\t\tvalueSet.valueFormat.replace(valueSet.substitutionString, pos.toString() + 'px')\n\t\t\t);\n\n\t\t\tthis.animateTargets.forEach(animateTarget => {\n\t\t\t\tvar targetDimensionSize = Math.ceil(this.scrollDetector.scrollTarget.clientHeight + parallaxDistance).toString() + 'px';\n\n\t\t\t\tanimateTarget.style[dimension] = targetDimensionSize;\n\t\t\t});\n\t\t});\n\n\t\tsuper.setCSS(cssValues);\n\t\tthis.ticking = false;\n\t}\n}"]}