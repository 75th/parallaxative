"use strict";function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),_get=function t(e,r,i){null===e&&(e=Function.prototype);var l=Object.getOwnPropertyDescriptor(e,r);if(void 0===l){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,r,i)}if("value"in l)return l.value;var s=l.get;if(void 0!==s)return s.call(i)},ParallaxativeAnimationValueSet=function t(e){var r=this;_classCallCheck(this,t);var i={valueFormat:"translateY(_)",substitutionString:"_",scrollPixelsPerParallaxPixel:10,resetValue:0};if(e=Object.assign({},i,e),Object.getOwnPropertyNames(e).forEach(function(t){r[t]=e[t]}),this.scrollPixelsPerParallaxPixel<=0)throw"scrollPixelsPerParallaxPixel must be greater than zero."},ParallaxativeAnimation=function(t){function e(t,r,i){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[new ParallaxativeAnimationValueSet];return _classCallCheck(this,e),_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,i,l))}return _inherits(e,t),_createClass(e,[{key:"init",value:function t(){_get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this),this.updateResizeCSS(),this.animateTargets.forEach(function(t){t.classList.add("parallaxative-animated")}),this.scrollDetector.scrollTarget.classList.add("parallaxative-container")}},{key:"getStats",value:function t(){var e={},r={size:"width",Size:"Width",offset:"left"},i={size:"height",Size:"Height",offset:"top"};return e.dimensions={scroll:{},cross:{}},e.scrollPosition=this.scrollDetector.clampedRelativeScrollPosition(),e.dimensions.scroll=this.scrollDetector.scrollIsVertical?i:r,e.dimensions.cross=e.dimensions.scroll===r?i:r,e.scrollTargetRect=this.scrollDetector.scrollTarget.getBoundingClientRect(),e.scrollTargetScrollSize=e.scrollTargetRect[e.dimensions.scroll.size],e.scrollDistance=e.scrollTargetScrollSize+window["inner"+e.dimensions.scroll.Size],e}},{key:"updateCSS",value:function t(){var e=this.getStats(),r=[];this.valueSets.forEach(function(t){var i=Math.ceil(e.scrollDistance-e.scrollDistance/t.scrollPixelsPerParallaxPixel+e.scrollTargetScrollSize),l=Math.round(-(e.scrollTargetScrollSize-i)*e.scrollPosition);r.push(t.valueFormat.replace(t.substitutionString,l.toString()+"px"))}),this.setCSS(r),this.ticking=!1}},{key:"updateResizeCSS",value:function t(){var e=this,r=this.getStats();this.valueSets.forEach(function(t){var i=Math.round(r.scrollDistance-r.scrollDistance/t.scrollPixelsPerParallaxPixel+r.scrollTargetScrollSize);e.animateTargets.forEach(function(t){t.style[r.dimensions.scroll.size]=i.toString()+"px"})})}},{key:"requestUpdate",value:function t(e){var r=this;this.ticking||requestAnimationFrame(function(){r.updateCSS(),"resize"===e.type&&r.updateResizeCSS()}),this.ticking=!0}}]),e}(ScrollAnimation);
//# sourceMappingURL=./parallaxative.min.js.map