"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),ScrollerAnimationValueSet=function t(e){_classCallCheck(this,t);var i={unit:"vh",valueFormat:"translateY(_)",substitutionString:"_",startValue:20,endValue:-20};this.options=Object.assign({},i,e)},ScrollerAnimation=function(){function t(e,i,a){_classCallCheck(this,t);var n={properties:["transform","msTransform"],valueSetSeparator:", "};void 0!==a&&a.length||(a=[new ScrollerAnimationValueSet]),this.options=Object.assign({},n,i),this.valueSets=a,this.animateTargets=e,this.listeners=[]}return _createClass(t,[{key:"updateCSS",value:function t(e){var i=[];this.valueSets.forEach(function(t){i.push(((t.endValue-t.startValue)*e+t.startValue).toString()+t.unit)}),this.animateTargets.forEach(function(t){this.options.properties.forEach(function(e){t.style[e]=i.join(this.options.valueSetSeparator)},this)},this)}}]),t}(),Scroller=function(){function t(e,i,a){_classCallCheck(this,t);var n={scrollIsVertical:!0,activeMediaQueryList:window.matchMedia("(min-width: 720px)")};void 0===a&&(a=[]),this.scrollTarget=e,this.animations=a,this.options=Object.assign({},n,i),this.activated=!1,this.respond(),this.options.activeMediaQueryList.addEventListener("change",function(){this.respond()})}return _createClass(t,[{key:"relativeScrollPosition",value:function t(){var e,i,a,n,s=this.scrollTarget.getBoundingClientRect();this.options.scrollIsVertical?(e=s.top+document.body.scrollTop,i=this.scrollTarget.offsetHeight,a=window.innerHeight,n=window.pageYOffset):(e=s.left+document.body.scrollLeft,i=this.scrollTarget.offsetWidth,a=window.innerWidth,n=window.pageXOffset);var o=e-a;return(n-o)/(e+i-o)}},{key:"clampedRelativeScrollPosition",value:function t(){return console.log(Math.min(Math.max(this.relativeScrollPosition(),0),1)),Math.min(Math.max(this.relativeScrollPosition(),0),1)}},{key:"setUpAnimations",value:function t(){this.animations.forEach(function(t){t.animateTargets.forEach(function(e){e.classList.add("scroll-animated"),t.updateCSS(this.clampedRelativeScrollPosition()),t.listeners.push(function(){t.updateCSS(this.clampedRelativeScrollPosition())}),window.addEventListener("scroll",t.listeners[t.listeners.length-1])},this)},this)}},{key:"activate",value:function t(){this.activated||(this.setUpAnimations(),this.activated=!0)}},{key:"deactivate",value:function t(){this.activated&&(this.animations.forEach(function(t){t.listeners.forEach(function(t){window.removeEventListener("scroll",t)})}),this.activated=!1)}},{key:"respond",value:function t(){this.options.activeMediaQueryList.matches?this.activate():this.deactivate()}}]),t}();
//# sourceMappingURL=./scroller.min.js.map