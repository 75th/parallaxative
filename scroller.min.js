"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ScrollerAnimationValueSet=function t(e){var i=this;_classCallCheck(this,t);var n={unit:"vh",valueFormat:"translateY(_)",substitutionString:"_",startValue:20,endValue:-20};e=Object.assign({},n,e),Object.getOwnPropertyNames(e).forEach(function(t){i[t]=e[t]})},ScrollerAnimation=function(){function t(e,i,n){_classCallCheck(this,t);var a={properties:["transform","msTransform"],valueSetSeparator:", "};void 0!==n&&n.length||(n=[new ScrollerAnimationValueSet]),this.options=Object.assign({},a,i),this.valueSets=n,this.animateTargets=e,this.listeners=[]}return _createClass(t,[{key:"updateCSS",value:function t(e){var i=[];this.valueSets.forEach(function(t){console.log(t),i.push(t.valueFormat.replace(t.substitutionString,((t.endValue-t.startValue)*e+t.startValue).toString()+t.unit))}),this.animateTargets.forEach(function(t){this.options.properties.forEach(function(e){t.style[e]=i.join(this.options.valueSetSeparator)},this)},this)}}]),t}(),Scroller=function(){function t(e,i,n){_classCallCheck(this,t);var a={scrollIsVertical:!0,activeMediaQueryList:window.matchMedia("(min-width: 720px)")};void 0===n&&(n=[]),this.scrollTarget=e,this.animations=n,this.options=Object.assign({},a,i),this.activated=!1,this.respond(),this.options.activeMediaQueryList.addEventListener("change",function(){this.respond()})}return _createClass(t,[{key:"relativeScrollPosition",value:function t(){var e,i,n,a,s=this.scrollTarget.getBoundingClientRect();this.options.scrollIsVertical?(e=s.top+document.documentElement.scrollTop,i=s.height,n=window.innerHeight,a=window.pageYOffset):(e=s.left+document.documentElement.scrollLeft,i=s.width,n=window.innerWidth,a=window.pageXOffset);var o=e-n;return(a-o)/(e+i-o)}},{key:"clampedRelativeScrollPosition",value:function t(){return console.log(Math.min(Math.max(this.relativeScrollPosition(),0),1)),Math.min(Math.max(this.relativeScrollPosition(),0),1)}},{key:"setUpAnimations",value:function t(){var e=this;this.animations.forEach(function(t){t.animateTargets.forEach(function(i){i.classList.add("scroll-animated"),t.updateCSS(e.clampedRelativeScrollPosition()),t.listeners.push(function(){t.updateCSS(e.clampedRelativeScrollPosition())}),window.addEventListener("scroll",t.listeners[t.listeners.length-1])})})}},{key:"activate",value:function t(){this.activated||(this.setUpAnimations(),this.activated=!0)}},{key:"deactivate",value:function t(){this.activated&&(this.animations.forEach(function(t){t.listeners.forEach(function(t){window.removeEventListener("scroll",t)})}),this.activated=!1)}},{key:"respond",value:function t(){this.options.activeMediaQueryList.matches?this.activate():this.deactivate()}}]),t}();
//# sourceMappingURL=./scroller.min.js.map